\usepackage{titlesec}
\usepackage{fancyhdr}
\pagestyle{fancy}
\usepackage{listings}
\usepackage{float}
\floatplacement{figure}{H}
\usepackage{setspace}\linespread{2.0}
\usepackage{chngcntr}

\usepackage[font={small,it}]{caption}

\counterwithin{figure}{section}
%\renewcommand{\thefigure}{\arabic{section}.\arabic{figure}}%

\addtolength{\skip\footins}{2pc plus 5pt}

\definecolor{red}{rgb}{0.8, 0, 0}
\definecolor{boitecode}{HTML}{f0f0f0}
\definecolor{boiteout}{HTML}{ffffff}
\usepackage{url}
\definecolor{grisclair}{rgb}{0.3,0.3,0.3}

\newfontfamily\headingfont[]{Roboto}
\newfontfamily\codefont[]{Roboto Mono}

\fancyhf{}
\renewcommand{\headrulewidth}{0pt}
\fancyfoot[R]{\thepage}

\titleformat{\section}
{\color{red}\headingfont\Large\bfseries\singlespacing}
{\thesection}{2em}{}

\titleformat{\subsection}
{\color{red}\headingfont\Large\singlespacing}
{\thesubsection}{1.5em}{}

\titleformat{\subsubsection}
{\color{red}\headingfont\Large\singlespacing}
{\thesubsubsection}{1.5em}{}

\titleformat{\paragraph}
{\color{black}\normalfont}
{\theparagraph}{2em}{}


\usepackage[framemethod=TikZ]{mdframed}
\mdfdefinestyle{code}{%
    linecolor=red,
    outerlinewidth=0.6pt,
    roundcorner=20pt,
    innertopmargin=5pt,
    innerbottommargin=5pt,
    innerrightmargin=5pt,
    innerleftmargin=5pt
    }


\lstdefinelanguage{json}{
    basicstyle=\footnotesize\codefont\singlespacing,
    numbers=left,
    numberstyle=\scriptsize,
    stepnumber=1,
    numbersep=8pt,
    showstringspaces=false,
    breaklines=true,
    frame=lines,
    literate=
     *{0}{{{\color{black}0}}}{1}
      {1}{{{\color{black}1}}}{1}
      {2}{{{\color{black}2}}}{1}
      {3}{{{\color{black}3}}}{1}
      {4}{{{\color{black}4}}}{1}
      {5}{{{\color{black}5}}}{1}
      {6}{{{\color{black}6}}}{1}
      {7}{{{\color{black}7}}}{1}
      {8}{{{\color{black}8}}}{1}
      {9}{{{\color{black}9}}}{1}
      {:}{{{\color{black}{:}}}}{1}
      {,}{{{\color{black}{,}}}}{1}
      {\{}{{{\color{black}{\{}}}}{1}
      {\}}{{{\color{black}{\}}}}}{1}
      {[}{{{\color{black}{[}}}}{1}
      {]}{{{\color{black}{]}}}}{1},
}


\lstdefinestyle{code}{ 
language=Python,
backgroundcolor=\color{boitecode},  
numbers=none,
breaklines=true,     
basicstyle=\footnotesize\codefont\singlespacing,
commentstyle=\it\color{grisclair},
keywordstyle=\bf\color{red},
numberstyle=\color{red},
stringstyle=\color{red}
}

\lstdefinestyle{out}{ 
language=python,
backgroundcolor=\color{boiteout},  
numbers=none,
breaklines=true,     
basicstyle=\footnotesize\codefont\singlespacing\color{black},
numberstyle=\color{red},
stringstyle=\color{red}
}
